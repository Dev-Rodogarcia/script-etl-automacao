# Relatorio Diario de Desenvolvimento
**Projeto:** Extrator de Dados ESL Cloud (ETL)  
**Data:** 14/02/2026  
**Status:** Concluido com Sucesso

---

## Resumo Executivo

Hoje foi concluida uma bateria agressiva de testes para validacao de extracao por intervalos longos, com foco no problema historico de `faturas_por_cliente`.

Resultado final:
- 7/7 execucoes de estresse com `SUCCESS`
- 0 ocorrencias de `PARTIAL/INCOMPLETO` nessa bateria
- `mvn test` aprovado (16 testes, 0 falhas)
- analise do alerta tolerado de integridade referencial concluida (nao bloqueante no cenario atual)

---

## Testes de Estresse Executados

Todos executados com `--extracao-intervalo` focando `dataexport faturas_por_cliente`.

1. 2 dias (`2026-02-10` a `2026-02-11`)  
   - Status: `SUCCESS`  
   - Duracao: `46s`  
   - Registros: `1.612`

2. 7 dias (`2026-02-05` a `2026-02-11`)  
   - Status: `SUCCESS`  
   - Duracao: `104s`  
   - Registros: `4.114`

3. 30 dias critico (`2024-06-29` a `2024-07-28`)  
   - Status: `SUCCESS`  
   - Duracao: `8s`  
   - Registros: `191`

4. 30 dias pesado (`2025-03-02` a `2025-03-31`)  
   - Status: `SUCCESS`  
   - Duracao: `422s`  
   - Registros: `17.631`

5. 90 dias (`2025-01-01` a `2025-03-31`)  
   - Status: `SUCCESS`  
   - Duracao: `1.268s`  
   - Registros: `52.826`

6. 365 dias (`2025-01-01` a `2025-12-31`)  
   - Status: `SUCCESS`  
   - Duracao: `5.029s`  
   - Registros: `209.026`

7. 2 anos (`2024-01-01` a `2025-12-31`)  
   - Status: `SUCCESS`  
   - Duracao: `7.039s`  
   - Registros: `291.291`

---

## Validacao do Run Manual

Arquivo validado: `logs/extracao_dados_2026-02-14_07-42-08.log`

Conclusoes do run manual:
- `Status final: SUCCESS`
- validacoes de contagem com `CONTAGEM_OK` para todas as entidades, incluindo `faturas_por_cliente`
- sem `PARTIAL`, sem `INCOMPLETO`, sem `DIVERGENCIA_CONTAGEM`

Registro no historico:
- `14/02/2026 09:48:26;SUCCESS;7577;148135;extracao-intervalo;`
- arquivo: `logs/history/execucao_2026_02.csv`

---

## Alerta Tolerado de Integridade Referencial

Foi analisado o alerta:
- `INTEGRIDADE_REFERENCIAL_MANIFESTOS_TOLERADO`

Interpretacao:
- significa manifesto com `pick_sequence_code` sem par em `coletas.sequence_code`
- no run manual, ficou dentro da tolerancia configurada (`500` e `35.0%`)
- por isso virou alerta nao bloqueante e a execucao terminou em `SUCCESS`

Ponto importante:
- para analise isolada de manifestos, nao houve perda de registros (manifestos carregados e contagem OK)
- impacto de perda visual ocorre apenas se consultas no BI usarem `INNER JOIN` com coletas

---

## Documentacao Atualizada

Arquivo atualizado:
- `README.md`

Atualizacoes aplicadas:
- versao para `2.3.3` e data `14/02/2026`
- nova secao de novidades com esclarecimento sobre orfaos/tolerancia
- nova subsecao tecnica em validacao explicando impacto em BI (`INNER JOIN` vs `LEFT JOIN`)

---

## Validacao de Regressao

Comando executado:
- `mvn test`

Resultado:
- `BUILD SUCCESS`
- `16` testes executados
- `0` falhas
- `0` erros

---

## Evidencias Principais

- `logs/history/execucao_2026_02.csv`
- `logs/extracao_dados_2026-02-14_07-42-08.log`
- `logs/extracao_dados_2026-02-14_02-32-14.log`
- `logs/extracao_dados_2026-02-14_02-33-08.log`
- `logs/extracao_dados_2026-02-14_02-35-04.log`
- `logs/extracao_dados_2026-02-14_02-35-24.log`
- `logs/extracao_dados_2026-02-14_02-42-37.log`
- `logs/extracao_dados_2026-02-14_03-03-56.log`
- `logs/extracao_dados_2026-02-14_04-28-01.log`

---

## Proximo Tema

Proximo assunto alinhado para discussao:
- estrategia de paralelismo

