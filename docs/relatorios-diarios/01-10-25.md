# ğŸ“Š RelatÃ³rio de AvanÃ§os e Status Atual (01/10/2025)

## ğŸ” VisÃ£o Geral

JÃ¡ integrado com **REST, GraphQL e Data Export**, atua como um **ETL resiliente**, pendente apenas de ajustes de acesso.

---

## âœ… Melhorias Implementadas
- Pausa automÃ¡tica de **2s em rate limit (429)**.  
- **Carga incremental** com `last_run.properties`.  
- **ResiliÃªncia**: falhas em uma API nÃ£o interrompem as demais.
- **ğŸ†• Sistema de Testes Isolados por API**: Permite testar APIs especÃ­ficas individualmente.

## ğŸ¯ Nova Funcionalidade: Testes Isolados

**Comandos implementados:**
- `--teste-rest`: Testa apenas APIs REST (Faturas + OcorrÃªncias)
- `--teste-graphql`: Testa apenas API GraphQL (Coletas + Fretes)  
- `--teste-data-export`: Testa apenas API Data Export (Manifestos + LocalizaÃ§Ã£o)
- `--ajuda`: Exibe todos os comandos disponÃ­veis

**BenefÃ­cios:**
- **Desenvolvimento mais eficiente**: Testa APIs especÃ­ficas sem executar todas
- **Economia de quota**: Reduz consumo durante desenvolvimento
- **Debug facilitado**: Isola problemas em APIs especÃ­ficas
- **Tempos otimizados**: Data Export (~4s), GraphQL (~11s), REST (~28s)

---

## ğŸ“‚ Status por Entidade
- **REST â€“ Faturas**: âœ… ConcluÃ­do e funcional.  
- **GraphQL â€“ Fretes**: âœ… CÃ³digo estÃ¡vel; precisa ajuste nos filtros.  

---

## ğŸš§ PendÃªncias Principais
1. **REST â€“ OcorrÃªncias**: Erro 500 em buscas longas.  
   â†’ AÃ§Ã£o: reportar instabilidade ao suporte ESL.

2. **GraphQL â€“ Fretes**: Query retorna 0 resultados.  
   â†’ AÃ§Ã£o: revisar `FreightInput` com Postman.

3. **GraphQL â€“ Coletas (PENDÃŠNCIA CRÃTICA)**:  
   Token sem permissÃ£o â†’ erro `Field 'Coletas' doesn't exist`.  
   â†’ AÃ§Ã£o: solicitar liberaÃ§Ã£o de permissÃ£o ao administrador ESL, e verificar no ESL qual nome de fato estÃ¡ sendo utilizado.

---

## ğŸ“© SolicitaÃ§Ã£o ao Suporte ESL
**Assunto:** LiberaÃ§Ã£o Urgente â€“ Query `Coletas`  

**Mensagem:**  
"Nosso token da API GraphQL funciona (ex.: `cargoClassification`), porÃ©m a query `Coletas` retorna *Field 'Coletas' doesn't exist*. Solicitamos a liberaÃ§Ã£o de permissÃ£o para esta query em nosso token para conclusÃ£o do projeto."


